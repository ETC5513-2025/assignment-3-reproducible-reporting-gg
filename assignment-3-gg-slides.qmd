---
title: "assignment-3-gg-slides"
format:
  revealjs:
    incremental: true
    theme: simple
---

## Results Figure  {.smaller}


@fig-ratio compares the **bottom 30 universities** in affordability ratio for Master of Computer Science programs in 2025.

```{r}
#| label: fig-ratio
#| fig-cap: "Bottom 30 Estimated Affordability Ratio of Master of Computer Science"
#| warning: false
#| error: false
#| echo: false

library(tidyverse)
library(here)

# Read in dataset
international_stu_cost <- read_csv(here("data/International_Education_Costs.csv"))

# Number defined in Methodology
base_income_2023    <- 80610   # from U.S. Census Bureau
income_2025         <- base_income_2023 * (1 + 0.028)^2
student_budget_2025 <- 0.5 * income_2025

# Filter the data
cost_data <- international_stu_cost |>
  filter(Level == "Master" & Program == "Computer Science") |>
  # columns for calcuation
  mutate(AnnualLiving_Cost = ( Living_Cost_Index / 100 ) * 17736,
         Tuition_PerYear = (Tuition_USD * (1 + 0.0475)) / Duration_Years,
         OneTime_fee = (Visa_Fee_USD + Insurance_USD) / Duration_Years,
         Total_Cost = AnnualLiving_Cost + Tuition_PerYear + Rent_USD * (1 + 0.0475) * 12 + OneTime_fee,
         AffordabilityRatio = student_budget_2025 / Total_Cost )

# Plot with top 30 of living cost
ratio_data_top <- cost_data |>
  arrange(AffordabilityRatio) |>
  slice_head(n = 30)
# Monash Label
monash_label <- ratio_data_top |>
  filter(University == "Monash University")
ratio_plot <- ggplot(ratio_data_top, 
                          aes(x = reorder(University, AffordabilityRatio),
                              y = AffordabilityRatio,
                              fill = University == "Monash University")) +
  geom_col()+
  geom_text(data = monash_label,
            aes(label = paste0(AffordabilityRatio)),
            # show the ratio number
            hjust = 1.1, colour = "black", size = 3) +
  coord_flip() +
  labs(x = "University", y = "Affordability Ratio") +
  theme_minimal(base_size = 10) +
  theme(legend.position = "none", # hide the fill logic
    axis.text.y = element_text(size = 7)) #adjust the font
print(ratio_plot)
```

---

## Results  {.smaller}

- Monash University ranks in the **lower tier**, with an affordability ratio of **0.744**.

- While tuition fee is moderate, **high rent (USD 21,369/year)** and **living expenses (USD 12,912/year)** raise the total cost and make affordability ratio falling.

- These highlights how **non-tuition costs drive affordability issues** for international students.

---